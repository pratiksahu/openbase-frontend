# FIX_003: Component Type Issues

**Priority**: MEDIUM
**Estimated Time**: 1-2 hours
**Files Affected**: 29 errors across 6 files

## Overview

Various TypeScript issues across components including missing JSX namespace imports, implicit any types, chart type mismatches, and button disabled property issues.

## Errors to Fix

### 1. Missing JSX Namespace Imports (4 errors)
**Files**:
- `src/components/MetricEditor/MetricTypeSelector.tsx:65, 195, 272`
- `src/components/TaskEditor/AcceptanceCriteria.tsx:190`
- `src/components/TaskEditor/ChecklistEditor.tsx:391`
- `src/components/TaskEditor/SubtaskList.tsx:436`
- `src/components/TaskEditor/TaskEditor.tsx:81`

```typescript
// ERROR: Cannot find namespace 'JSX'
}: ComponentProps): JSX.Element {
```

### 2. AchievableStep Implicit 'any' Types (24 errors)
**File**: `src/components/GoalWizard/steps/AchievableStep.tsx`
```typescript
// ERROR: Parameter 'r' implicitly has an 'any' type
const availableResources = data.requiredResources.filter(r => r.isAvailable).length;
const skillGaps = data.requiredSkills.map(s => Math.max(0, s.requiredLevel - s.currentLevel));
// ... and many more similar callback parameter issues
```

### 3. ChartType Enum Mismatch
**File**: `src/components/MetricEditor/MetricEditor.tsx:618`
```typescript
// ERROR: Type '"line"' is not assignable to type 'ChartType'
chartType="line"
```

### 4. Button Disabled Property Type Issue
**File**: `src/components/GoalWizard/steps/SpecificStep.tsx:140`
```typescript
// ERROR: Type '0' is not assignable to type 'boolean | undefined'
disabled={!inputValue.trim() || disabled || (maxItems && items.length >= maxItems)}
```

## Solution Strategy

### 1. Add JSX Namespace Import
Add React import with JSX namespace to all affected components:

```typescript
import React from 'react';
// or
import { JSX } from 'react';
```

### 2. Fix Implicit Any Types
Add proper type annotations to all callback parameters:

```typescript
// Before
const availableResources = data.requiredResources.filter(r => r.isAvailable).length;

// After
const availableResources = data.requiredResources.filter((r: RequiredResource) => r.isAvailable).length;
```

### 3. Fix ChartType Enum
Ensure ChartType enum includes all used values or fix the value:

```typescript
// Option A: Fix the enum
export enum ChartType {
  LINE = 'line',
  BAR = 'bar',
  // ... other types
}

// Option B: Fix the usage
chartType={ChartType.LINE}
```

### 4. Fix Button Disabled Logic
Convert numeric 0 to boolean:

```typescript
disabled={!inputValue.trim() || disabled || Boolean(maxItems && items.length >= maxItems)}
```

## Implementation Steps

1. **Add JSX imports** to all affected component files
2. **Create type interfaces** for callback parameters in AchievableStep
3. **Fix ChartType enum** or usage in MetricEditor
4. **Fix boolean conversion** in SpecificStep disabled prop
5. **Run type check** to ensure all issues are resolved

## Files to Modify

- [ ] `src/components/MetricEditor/MetricTypeSelector.tsx` - Add JSX import
- [ ] `src/components/TaskEditor/AcceptanceCriteria.tsx` - Add JSX import
- [ ] `src/components/TaskEditor/ChecklistEditor.tsx` - Add JSX import
- [ ] `src/components/TaskEditor/SubtaskList.tsx` - Add JSX import
- [ ] `src/components/TaskEditor/TaskEditor.tsx` - Add JSX import
- [ ] `src/components/GoalWizard/steps/AchievableStep.tsx` - Fix implicit any types
- [ ] `src/components/MetricEditor/MetricEditor.tsx` - Fix ChartType usage
- [ ] `src/components/GoalWizard/steps/SpecificStep.tsx` - Fix disabled prop

## Type Definitions Needed

### AchievableStep Callback Types
```typescript
interface RequiredResource {
  isAvailable: boolean;
  // ... other properties
}

interface RequiredSkill {
  requiredLevel: number;
  currentLevel: number;
  // ... other properties
}

interface Constraint {
  impactLevel: number;
  probability: number;
  mitigationStrategy?: string;
  // ... other properties
}
```

## Testing Checklist

- [ ] All components render without type errors
- [ ] JSX return types are properly recognized
- [ ] Callback functions have proper type safety
- [ ] ChartType enum works correctly
- [ ] Button disabled logic works as expected
- [ ] No implicit any warnings in strict mode

## Quick Fixes (Can be done in parallel)

1. **JSX Imports**: Add `import React from 'react';` to all affected files
2. **ChartType**: Check enum definition and fix usage
3. **Boolean conversion**: Convert numeric to boolean in disabled prop

## Dependencies

- No blocking dependencies
- Can be worked on in parallel with other fixes