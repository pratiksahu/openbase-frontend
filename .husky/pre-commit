#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run lint-staged
echo "ğŸ¨ Running lint-staged..."
npm run lint:staged

# Type checking
echo "ğŸ”§ Running type check..."
npm run typecheck

# Check for console.log statements in production
echo "ğŸ§¹ Checking for console statements..."
if grep -r "console\." --include="*.ts" --include="*.tsx" --include="*.js" --include="*.jsx" src/ 2>/dev/null; then
  echo "âŒ Console statements found in source code. Please remove them before committing."
  exit 1
fi

echo "âœ… Pre-commit checks passed!"